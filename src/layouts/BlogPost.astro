---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import FormattedDate from '../components/FormattedDate.astro';
import Header from '../components/Header.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<html lang="en">
  <head>
    <BaseHead title={title} description={description} />
  </head>

  <body>
    <Header />

    <main class="container padding-large">
      <article class="paper">

        <!-- Hero Image -->
        <div class="hero-image margin-bottom-large">
          {heroImage && (
            <Image
              width={1020}
              height={510}
              src={heroImage}
              alt={title}
              class="img-responsive paper"
            />
          )}
        </div>

        <!-- Title + Dates -->
        <div class="text-center margin-bottom-large">
          <h1 class="paper">{title}</h1>

          <p class="paper">
            Published on <FormattedDate date={pubDate} />
            {updatedDate && (
              <>
                <br />
                <span class="italic">
                  Last updated on <FormattedDate date={updatedDate} />
                </span>
              </>
            )}
          </p>

          <hr />
        </div>

        <!-- Blog Content -->
        <div class="paper padding-large">
          <slot />
        </div>

        <!-- Footer Note -->
        <p class="text-center margin-top-large paper">
          Thank you for reading. This article is part of the PaperAstro starter template.
        </p>

      </article>
    </main>

    <Footer />
  </body>
</html>

